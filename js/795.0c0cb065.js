"use strict";(globalThis["webpackChunkgetpay"]=globalThis["webpackChunkgetpay"]||[]).push([[795],{3795:(e,l,a)=>{a.r(l),a.d(l,{default:()=>T});var t=a(9835),i=a(1957);const n=(0,t._)("div",{class:"text-h6"},"Create API Key",-1),o={class:"row"},s={class:"col q-mr-md"},d={class:"col"},u=(0,t.Uk)("Cancel"),r=(0,t.Uk)("Create"),p=(0,t._)("div",{class:"text-h6"},"API Key",-1),m=(0,t._)("div",{class:"text-subtitle text-italic"}," Note: The API Key below can only be viewed once, so copy it and save it carefully. ",-1),c=(0,t.Uk)("Close");function y(e,l,a,y,h,_){const w=(0,t.up)("q-card-section"),g=(0,t.up)("q-separator"),b=(0,t.up)("q-input"),f=(0,t.up)("q-select"),W=(0,t.up)("q-btn"),A=(0,t.up)("q-card-actions"),V=(0,t.up)("q-form"),q=(0,t.up)("q-card"),K=(0,t.up)("q-dialog"),v=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(v,{class:"q-pa-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[n])),_:1}),(0,t.Wm)(g),(0,t.Wm)(V,{onSubmit:(0,i.iM)(e.createApiKey,["prevent"])},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"q-gutter-md"},{default:(0,t.w5)((()=>[(0,t.Wm)(b,{outlined:"",modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=l=>e.name=l),dense:e.dense,label:"Name",placeholder:"Mamang April",required:""},null,8,["modelValue","dense"]),(0,t.Wm)(b,{outlined:"",modelValue:e.description,"onUpdate:modelValue":l[1]||(l[1]=l=>e.description=l),dense:e.dense,label:"Description",placeholder:"Punya Mamang April",required:""},null,8,["modelValue","dense"]),(0,t._)("div",o,[(0,t._)("div",s,[(0,t.Wm)(b,{outlined:"",modelValue:e.duration,"onUpdate:modelValue":l[2]||(l[2]=l=>e.duration=l),dense:e.dense,label:"Duration",placeholder:"22",type:"number",disable:e.isUnlimited,rules:[e.$rules.required("Duration is required"),e.$rules.minValue(1,"Duration must be greater than 0")]},null,8,["modelValue","dense","disable","rules"])]),(0,t._)("div",d,[(0,t.Wm)(f,{outlined:"",dense:e.dense,modelValue:e.duration_type,"onUpdate:modelValue":l[3]||(l[3]=l=>e.duration_type=l),options:e.durationTypes,label:"Duration Type"},null,8,["dense","modelValue","options"])])])])),_:1}),(0,t.Wm)(g),(0,t.Wm)(A,{align:"right"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{flat:"",size:"sm",onClick:l[4]||(l[4]=l=>e.$router.push({name:"apiKey"}))},{default:(0,t.w5)((()=>[u])),_:1}),(0,t.Wm)(W,{color:"primary",size:"sm",type:"submit"},{default:(0,t.w5)((()=>[r])),_:1})])),_:1})])),_:1},8,["onSubmit"])])),_:1}),(0,t.Wm)(K,{modelValue:e.showDialog,"onUpdate:modelValue":l[7]||(l[7]=l=>e.showDialog=l),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(q,null,{default:(0,t.w5)((()=>[(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[p,m])),_:1}),(0,t.Wm)(g),(0,t.Wm)(w,null,{default:(0,t.w5)((()=>[(0,t.Wm)(b,{modelValue:e.lastApiKey,"onUpdate:modelValue":l[5]||(l[5]=l=>e.lastApiKey=l),dense:e.dense,readonly:"",label:"API Key",autogrow:""},{append:(0,t.w5)((()=>[(0,t.Wm)(W,{flat:"",icon:"content_copy",size:"sm",onClick:e.saveApiKeyToClipboard},null,8,["onClick"])])),_:1},8,["modelValue","dense"])])),_:1}),(0,t.Wm)(A,{align:"center"},{default:(0,t.w5)((()=>[(0,t.Wm)(W,{class:"full-width",color:"primary",size:"sm",outline:"",onClick:l[6]||(l[6]=l=>e.showDialog=!1)},{default:(0,t.w5)((()=>[c])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})}var h=a(5155),_=a(6928),w=a(499),g=a(5054);const b=(0,t.aZ)({name:"ApiKeyCreate",setup(){return{dense:!0,showDialog:(0,w.iH)(!1),lastApiKey:(0,w.iH)(null),name:(0,w.iH)(""),description:(0,w.iH)(""),duration:(0,w.iH)(0),duration_type:(0,w.iH)("unlimited"),durationTypes:["unlimited","minutes","hours","months","years"]}},computed:{isUnlimited(){return"unlimited"===this.duration_type}},methods:{createApiKey(){var e=this.duration;this.isUnlimited&&(e=0);const l={name:this.name,description:this.description,expiration_time:e,expiration_type:this.duration_type},a=(0,_.t)(),t=(0,h.x)();a.axios.post("/apikey/",l).then((e=>{const{api_key:l,...a}=e.data;t.setApiKeys(a),this.lastApiKey=l,this.showDialog=!0}))},saveApiKeyToClipboard(){(0,g.Z)(this.lastApiKey),this.$q.notify({message:"API Key copied",color:"positive"})}}});var f=a(1639),W=a(9885),A=a(4458),V=a(3190),q=a(926),K=a(8326),v=a(6611),C=a(3752),k=a(1821),Z=a(4455),U=a(2074),D=a(9984),Q=a.n(D);const x=(0,f.Z)(b,[["render",y]]),T=x;Q()(b,"components",{QPage:W.Z,QCard:A.Z,QCardSection:V.Z,QSeparator:q.Z,QForm:K.Z,QInput:v.Z,QSelect:C.Z,QCardActions:k.Z,QBtn:Z.Z,QDialog:U.Z})}}]);