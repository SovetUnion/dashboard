"use strict";(globalThis["webpackChunkgetpay"]=globalThis["webpackChunkgetpay"]||[]).push([[628],{1628:(e,t,a)=>{a.r(t),a.d(t,{default:()=>W});var o=a(9835),l=a(6970);const i=(0,o._)("div",{class:"col-2 q-table__title"},"API Keys",-1);function r(e,t,a,r,s,n){const p=(0,o.up)("q-space"),d=(0,o.up)("q-btn"),c=(0,o.up)("q-chip"),u=(0,o.up)("q-td"),m=(0,o.up)("q-avatar"),w=(0,o.up)("q-tr"),f=(0,o.up)("q-table"),y=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(y,{class:"q-pa-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{title:"API Keys",rows:e.rows,columns:e.columns},{top:(0,o.w5)((()=>[i,(0,o.Wm)(p),(0,o.Wm)(d,{color:"primary",rounded:"",label:"Create New",size:"sm",onClick:t[0]||(t[0]=t=>e.$router.push({name:"apiKeyCreate"}))})])),body:(0,o.w5)((t=>[(0,o.Wm)(w,{props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{key:"name",props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{color:"primary","text-color":"white"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.row.name),1)])),_:2},1024)])),_:2},1032,["props"]),(0,o.Wm)(u,{key:"description",props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.row.description),1)])),_:2},1024)])),_:2},1032,["props"]),(0,o.Wm)(u,{key:"duration",props:t},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{color:"green","text-color":"white"},{default:(0,o.w5)((()=>["unlimited"!==t.row.expiration_type?((0,o.wg)(),(0,o.j4)(m,{key:0,color:"white","text-color":"black",size:"sm"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(t.row.expiration_time),1)])),_:2},1024)):(0,o.kq)("",!0),(0,o.Uk)(" "+(0,l.zw)(t.row.expiration_type),1)])),_:2},1024)])),_:2},1032,["props"]),(0,o.Wm)(u,{key:"expires_on",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$formatDate(t.row.expires_on)),1)])),_:2},1032,["props"]),(0,o.Wm)(u,{key:"date_created",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$formatDate(t.row.date_created)),1)])),_:2},1032,["props"]),(0,o.Wm)(u,{key:"date_updated",props:t},{default:(0,o.w5)((()=>[(0,o.Uk)((0,l.zw)(e.$formatDate(t.row.date_updated)),1)])),_:2},1032,["props"]),(0,o.Wm)(u,{key:"actions",props:t,class:"q-gutter-sm"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{label:"Edit",outline:"",color:"primary",icon:"edit",onClick:a=>e.edit(t.row),size:"sm"},null,8,["onClick"]),(0,o.Wm)(d,{label:"Remove",outline:"",color:"red",icon:"delete",onClick:a=>e.remove(t.row),size:"sm"},null,8,["onClick"])])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns"])])),_:1})}var s=a(2502),n=a(6928),p=a(5155);const d=(0,o.aZ)({name:"ApiKey",preFetch(){const e=(0,n.t)(),t=(0,p.x)();return e.axios.get("/apikey/").then((e=>{t.setApiKeys(e.data.data)})).catch((e=>{console.log(e)}))},setup(){const{apikeys:e}=(0,s.Jk)((0,p.x)());return{rows:e,columns:[{name:"name",label:"Name",field:"name",align:"left"},{name:"description",label:"Description",field:"description",align:"left"},{name:"duration",label:"Duration",field:"duration",align:"left"},{name:"expires_on",label:"Expires On",field:"expires_on",align:"left"},{name:"date_created",label:"Date Created",field:"date_created",align:"left"},{name:"date_updated",label:"Date Updated",field:"date_updated",align:"left"},{name:"actions",field:"actions",label:"Actions",align:"left"}]}},methods:{edit(e){this.$router.push({name:"apiKeyEdit",params:{id:e.id}})},remove(e){this.$q.dialog({title:"Delete API Key",message:"Are you sure you want to delete this API Key?",cancel:!0,persistent:!0}).onOk((()=>{console.log("delete",e);const t=(0,n.t)();t.axios.delete(`/apikey/${e.id}`).then((t=>{t.data.success&&(this.rows=this.rows.filter((t=>t.id!==e.id)),this.$q.notify({color:"positive",message:"API Key Removed"}))})).catch((e=>{console.log(e),this.$q.notify({color:"negative",text:"API Key Could Not Be Removed"})}))})).onCancel((()=>{console.log("cancel")}))}}});var c=a(1639),u=a(9885),m=a(7580),w=a(136),f=a(4455),y=a(9546),_=a(7220),k=a(7691),g=a(1357),h=a(9984),b=a.n(h);const x=(0,c.Z)(d,[["render",r]]),W=x;b()(d,"components",{QPage:u.Z,QTable:m.Z,QSpace:w.Z,QBtn:f.Z,QTr:y.Z,QTd:_.Z,QChip:k.Z,QAvatar:g.Z})}}]);